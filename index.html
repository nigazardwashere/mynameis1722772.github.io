<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Network Scannerüõ°Ô∏è </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #2563eb;
            --secondary: #3b82f6;
            --danger: #ef4444;
            --warning: #f59e0b;
            --success: #10b981;
            --dark: #1e293b;
            --light: #f8fafc;
            --surface: #ffffff;
            --border: #e2e8f0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #1e293b;
            line-height: 1.6;
        }

        .app-container {
            max-width: 100%;
            min-height: 100vh;
            background: var(--surface);
            position: relative;
        }

        /* Header */
        .app-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px 16px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .app-header h1 {
            font-size: clamp(1.3rem, 4vw, 1.8rem);
            font-weight: 700;
            margin-bottom: 4px;
        }

        .app-header p {
            font-size: clamp(0.8rem, 3vw, 1rem);
            opacity: 0.9;
        }

        /* Navigation */
        .app-nav {
            display: flex;
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 90;
        }

        .nav-tab {
            flex: 1;
            padding: 16px 12px;
            text-align: center;
            font-weight: 600;
            color: var(--dark);
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-size: clamp(0.8rem, 3vw, 0.9rem);
            cursor: pointer;
        }

        .nav-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
            background: linear-gradient(to top, #eff6ff, transparent);
        }

        /* Content */
        .tab-content {
            display: none;
            padding: 16px;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: var(--surface);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid var(--border);
        }

        .card-title {
            font-size: clamp(1.1rem, 4vw, 1.3rem);
            font-weight: 700;
            margin-bottom: 16px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Inputs */
        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark);
            font-size: clamp(0.9rem, 3vw, 1rem);
        }

        .text-input, .select-input {
            width: 100%;
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--surface);
        }

        .text-input:focus, .select-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        /* Buttons */
        .btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 12px;
            font-size: clamp(1rem, 4vw, 1.1rem);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin: 8px 0;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .btn-primary:active {
            transform: scale(0.98);
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.4);
        }

        .btn-secondary {
            background: var(--light);
            color: var(--dark);
            border: 2px solid var(--border);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #dc2626);
            color: white;
        }

        /* Progress */
        .progress-section {
            display: none;
        }

        .progress-section.active {
            display: block;
        }

        .progress-card {
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--primary));
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .progress-text {
            font-size: clamp(1.3rem, 5vw, 1.5rem);
            font-weight: 700;
            color: var(--primary);
            margin: 8px 0;
        }

        .progress-details {
            font-size: clamp(0.8rem, 3vw, 0.9rem);
            color: var(--dark);
            opacity: 0.8;
        }

        /* Results */
        .result-item {
            background: var(--light);
            padding: 16px;
            margin: 12px 0;
            border-radius: 12px;
            border-right: 4px solid var(--border);
            transition: all 0.3s ease;
        }

        .result-item:hover {
            transform: translateX(-5px);
        }

        .result-item.critical { border-right-color: var(--danger); background: #fef2f2; }
        .result-item.high { border-right-color: var(--warning); background: #fffbeb; }
        .result-item.medium { border-right-color: #f59e0b; background: #fefce8; }
        .result-item.low { border-right-color: #10b981; background: #f0fdf4; }
        .result-item.info { border-right-color: var(--primary); background: #eff6ff; }
        .result-item.safe { border-right-color: var(--success); background: #f0fdf4; }

        .result-title {
            font-weight: 700;
            margin-bottom: 8px;
            font-size: clamp(0.9rem, 3vw, 1rem);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-desc {
            font-size: clamp(0.8rem, 3vw, 0.9rem);
            color: #64748b;
            margin-bottom: 8px;
        }

        .result-meta {
            font-size: clamp(0.7rem, 2.5vw, 0.8rem);
            color: #94a3b8;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 8px;
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
            margin: 16px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px 12px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }

        .stat-number {
            font-size: clamp(1.5rem, 6vw, 1.8rem);
            font-weight: 700;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: clamp(0.7rem, 2.5vw, 0.8rem);
            opacity: 0.9;
        }

        /* History */
        .history-item {
            background: var(--light);
            padding: 16px;
            margin: 8px 0;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .history-item:active {
            transform: scale(0.98);
            background: #e2e8f0;
        }

        .history-target {
            font-weight: 700;
            margin-bottom: 4px;
            font-size: clamp(0.9rem, 3vw, 1rem);
        }

        .history-meta {
            font-size: clamp(0.7rem, 2.5vw, 0.8rem);
            color: #64748b;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 8px;
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin: 16px 0;
        }

        .quick-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px 12px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }

        .quick-btn:active {
            transform: scale(0.95);
        }

        .quick-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .quick-label {
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Utility */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .mt-4 {
            margin-top: 16px;
        }

        .mb-4 {
            margin-bottom: 16px;
        }

        .p-4 {
            padding: 16px;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            left: 20px;
            background: var(--surface);
            padding: 16px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            transform: translateY(-100px);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification.success {
            border-left: 4px solid var(--success);
        }

        .notification.error {
            border-left: 4px solid var(--danger);
        }

        .notification.warning {
            border-left: 4px solid var(--warning);
        }

        /* Desktop Optimizations */
        @media (min-width: 768px) {
            .app-container {
                max-width: 1200px;
                margin: 20px auto;
                border-radius: 20px;
                overflow: hidden;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                min-height: calc(100vh - 40px);
            }

            .app-nav {
                top: 88px;
            }

            .tab-content {
                padding: 30px;
            }

            .card {
                padding: 30px;
                margin-bottom: 24px;
            }

            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }

            .quick-actions {
                grid-template-columns: repeat(4, 1fr);
            }

            .input-group {
                display: flex;
                align-items: center;
                gap: 16px;
            }

            .input-label {
                margin-bottom: 0;
                min-width: 120px;
            }

            .btn {
                width: auto;
                min-width: 150px;
            }
        }

        /* Mobile optimizations */
        @media (max-width: 480px) {
            .app-header {
                padding: 16px;
            }
            
            .card {
                padding: 16px;
                margin-bottom: 12px;
            }
            
            .btn {
                padding: 16px;
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            :root {
                --surface: #1e293b;
                --light: #334155;
                --dark: #f1f5f9;
                --border: #475569;
            }
            
            body {
                background: linear-gradient(135deg, #4c51bf 0%, #7e22ce 100%);
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1><i class="fas fa-shield-alt"></i> Network Scanner</h1>
            <p>ŸÖÿ¥ÿ±Ÿàÿπ ÿßŸÑÿ£ŸÖŸÜ ÿßŸÑÿ≥Ÿäÿ®ÿ±ÿßŸÜŸä - ŸäÿπŸÖŸÑ ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ ŸàÿßŸÑÿ≠ÿßÿ≥Ÿàÿ®</p>
        </header>

        <!-- Navigation -->
        <nav class="app-nav">
            <div class="nav-tab active" onclick="switchTab('scanner')">
                <i class="fas fa-search"></i> ÿßŸÑŸÖÿ≥ÿ≠
            </div>
            <div class="nav-tab" onclick="switchTab('results')">
                <i class="fas fa-chart-bar"></i> ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨
            </div>
            <div class="nav-tab" onclick="switchTab('history')">
                <i class="fas fa-history"></i> ÿßŸÑÿ≥ÿ¨ŸÑ
            </div>
            <div class="nav-tab" onclick="switchTab('tools')">
                <i class="fas fa-tools"></i> ÿßŸÑÿ£ÿØŸàÿßÿ™
            </div>
        </nav>

        <!-- Scanner Tab -->
        <div id="scanner" class="tab-content active">
            <div class="card">
                <div class="card-title"><i class="fas fa-cogs"></i> ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑÿ∂Ÿàÿ¶Ÿä</div>
                
                <div class="input-group">
                    <label class="input-label">ÿßŸÑŸáÿØŸÅ:</label>
                    <input type="text" class="text-input" id="targetInput" 
                           placeholder="ŸÖÿ´ÿßŸÑ: 192.168.1.1, 192.168.1.0/24, ÿ£Ÿà example.com"
                           value="192.168.1.1">
                </div>

                <div class="input-group">
                    <label class="input-label">ŸÜŸàÿπ ÿßŸÑŸÖÿ≥ÿ≠:</label>
                    <select class="select-input" id="scanType">
                        <option value="quick">ŸÖÿ≥ÿ≠ ÿ≥ÿ±Ÿäÿπ <i class="fas fa-bolt"></i></option>
                        <option value="comprehensive">ŸÖÿ≥ÿ≠ ÿ¥ÿßŸÖŸÑ <i class="fas fa-search"></i></option>
                        <option value="vulnerability">ŸÅÿ≠ÿµ ÿßŸÑÿ´ÿ∫ÿ±ÿßÿ™ <i class="fas fa-bug"></i></option>
                        <option value="ports">ŸÅÿ≠ÿµ ÿßŸÑŸÖŸÜÿßŸÅÿ∞ <i class="fas fa-plug"></i></option>
                        <option value="os">ŸÉÿ¥ŸÅ ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ <i class="fas fa-desktop"></i></option>
                    </select>
                </div>

                <button class="btn btn-primary" onclick="startRealScan()">
                    <i class="fas fa-play"></i> ÿ®ÿØÿ° ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑÿ∂Ÿàÿ¶Ÿä
                </button>
            </div>

            <!-- Quick Actions -->
            <div class="card">
                <div class="card-title"><i class="fas fa-bolt"></i> ŸÖÿ≥ÿ≠ ÿ≥ÿ±Ÿäÿπ</div>
                <div class="quick-actions">
                    <div class="quick-btn" onclick="quickScan('127.0.0.1')">
                        <div class="quick-icon"><i class="fas fa-laptop"></i></div>
                        <div class="quick-label">ÿ¨Ÿáÿßÿ≤Ÿä</div>
                    </div>
                    <div class="quick-btn" onclick="quickScan('192.168.1.1')">
                        <div class="quick-icon"><i class="fas fa-wifi"></i></div>
                        <div class="quick-label">ÿßŸÑÿ±ÿßŸàÿ™ÿ±</div>
                    </div>
                    <div class="quick-btn" onclick="quickScan('192.168.1.0/24')">
                        <div class="quick-icon"><i class="fas fa-network-wired"></i></div>
                        <div class="quick-label">ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ©</div>
                    </div>
                    <div class="quick-btn" onclick="quickScan('google.com')">
                        <div class="quick-icon"><i class="fas fa-globe"></i></div>
                        <div class="quick-label">ÿÆÿßÿØŸÖ ŸàŸäÿ®</div>
                    </div>
                </div>
            </div>

            <!-- Scan Info -->
            <div class="card">
                <div class="card-title"><i class="fas fa-info-circle"></i> ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÖÿ≥ÿ≠</div>
                <div class="result-item info">
                    <div class="result-title"><i class="fas fa-shield-alt"></i> ÿ™ŸÜÿ®ŸäŸá ÿ£ŸÖŸÜŸä</div>
                    <div class="result-desc">Ÿáÿ∞ÿß ÿßŸÑŸÜÿ∏ÿßŸÖ ŸÑŸÑÿ£ÿ∫ÿ±ÿßÿ∂ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ© ŸàÿßŸÑÿ£ŸÉÿßÿØŸäŸÖŸäÿ© ŸÅŸÇÿ∑. ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿ•ÿ∞ŸÜ ÿßŸÑŸÑÿßÿ≤ŸÖ ŸÇÿ®ŸÑ ŸÅÿ≠ÿµ ÿ£Ÿä ÿ¥ÿ®ŸÉÿ©.</div>
                </div>
            </div>
        </div>

        <!-- Progress Section -->
        <div id="progressSection" class="progress-section">
            <div class="card progress-card">
                <div class="card-title"><i class="fas fa-sync-alt fa-spin"></i> ÿ¨ÿßÿ±Ÿä ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑÿ∂Ÿàÿ¶Ÿä</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">0%</div>
                <div class="progress-details" id="progressDetails">ÿ¨ÿßÿ±Ÿä ÿ™ŸáŸäÿ¶ÿ© ŸÜÿ∏ÿßŸÖ ÿßŸÑŸÖÿ≥ÿ≠...</div>
            </div>
        </div>

        <!-- Results Tab -->
        <div id="results" class="tab-content">
            <div class="card">
                <div class="card-title"><i class="fas fa-chart-pie"></i> ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™</div>
                <div class="stats-grid" id="statsContainer">
                    <!-- ÿ≥Ÿäÿ™ŸÖ ŸÖŸÑÿ§Ÿáÿß ÿ®ÿßŸÑÿ¨ÿßŸÅÿßÿ≥ŸÉÿ±Ÿäÿ®ÿ™ -->
                </div>
            </div>

            <div class="card">
                <div class="card-title"><i class="fas fa-desktop"></i> ÿßŸÑÿ£ÿ¨Ÿáÿ≤ÿ© ÿßŸÑŸÖŸÉÿ™ÿ¥ŸÅÿ©</div>
                <div id="hostsContainer">
                    <div class="text-center p-4">ŸÑŸÖ Ÿäÿ™ŸÖ ÿ•ÿ¨ÿ±ÿßÿ° ÿ£Ÿä ŸÖÿ≥ÿ≠ ÿ®ÿπÿØ</div>
                </div>
            </div>

            <div class="card">
                <div class="card-title"><i class="fas fa-plug"></i> ÿßŸÑŸÖŸÜÿßŸÅÿ∞ ŸàÿßŸÑÿÆÿØŸÖÿßÿ™</div>
                <div id="portsContainer">
                    <div class="text-center p-4">ŸÑŸÖ Ÿäÿ™ŸÖ ÿ•ÿ¨ÿ±ÿßÿ° ÿ£Ÿä ŸÖÿ≥ÿ≠ ÿ®ÿπÿØ</div>
                </div>
            </div>

            <div class="card">
                <div class="card-title"><i class="fas fa-bug"></i> ÿßŸÑÿ´ÿ∫ÿ±ÿßÿ™ ÿßŸÑÿ£ŸÖŸÜŸäÿ©</div>
                <div id="vulnsContainer">
                    <div class="text-center p-4">ŸÑŸÖ Ÿäÿ™ŸÖ ÿ•ÿ¨ÿ±ÿßÿ° ÿ£Ÿä ŸÖÿ≥ÿ≠ ÿ®ÿπÿØ</div>
                </div>
            </div>
        </div>

        <!-- History Tab -->
        <div id="history" class="tab-content">
            <div class="card">
                <div class="card-title"><i class="fas fa-archive"></i> ÿ≥ÿ¨ŸÑ ÿßŸÑŸÖÿ≥Ÿàÿ≠ÿßÿ™</div>
                <div id="historyContainer">
                    <div class="text-center p-4">ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿ≥Ÿàÿ≠ÿßÿ™ ÿ≥ÿßÿ®ŸÇÿ©</div>
                </div>
            </div>
            
            <button class="btn btn-danger" onclick="clearHistory()">
                <i class="fas fa-trash"></i> ŸÖÿ≥ÿ≠ ÿßŸÑÿ≥ÿ¨ŸÑ ÿ®ÿßŸÑŸÉÿßŸÖŸÑ
            </button>
        </div>

        <!-- Tools Tab -->
        <div id="tools" class="tab-content">
            <div class="card">
                <div class="card-title"><i class="fas fa-network-wired"></i> ÿ£ÿØŸàÿßÿ™ ÿßŸÑÿ¥ÿ®ŸÉÿ©</div>
                
                <div class="input-group">
                    <label class="input-label">ŸÅÿ≠ÿµ Ping:</label>
                    <input type="text" class="text-input" id="pingInput" placeholder="ÿ£ÿØÿÆŸÑ ÿπŸÜŸàÿßŸÜ IP ÿ£Ÿà ŸÜÿ∑ÿßŸÇ">
                    <button class="btn btn-primary" onclick="pingTest()">
                        <i class="fas fa-satellite-dish"></i> ŸÅÿ≠ÿµ
                    </button>
                </div>

                <div class="input-group">
                    <label class="input-label">ŸÅÿ≠ÿµ DNS:</label>
                    <input type="text" class="text-input" id="dnsInput" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑŸÜÿ∑ÿßŸÇ">
                    <button class="btn btn-primary" onclick="dnsLookup()">
                        <i class="fas fa-server"></i> ŸÅÿ≠ÿµ
                    </button>
                </div>

                <div class="input-group">
                    <label class="input-label">ŸÅÿ≠ÿµ SSL:</label>
                    <input type="text" class="text-input" id="sslInput" placeholder="https://example.com">
                    <button class="btn btn-primary" onclick="sslCheck()">
                        <i class="fas fa-lock"></i> ŸÅÿ≠ÿµ
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-title"><i class="fas fa-tachometer-alt"></i> ÿ£ÿØŸàÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ</div>
                <div class="quick-actions">
                    <div class="quick-btn" onclick="runSpeedTest()">
                        <div class="quick-icon"><i class="fas fa-tachometer-alt"></i></div>
                        <div class="quick-label">ŸÅÿ≠ÿµ ÿßŸÑÿ≥ÿ±ÿπÿ©</div>
                    </div>
                    <div class="quick-btn" onclick="checkLocalNetwork()">
                        <div class="quick-icon"><i class="fas fa-wifi"></i></div>
                        <div class="quick-label">ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ©</div>
                    </div>
                    <div class="quick-btn" onclick="scanOpenPorts()">
                        <div class="quick-icon"><i class="fas fa-door-open"></i></div>
                        <div class="quick-label">ÿßŸÑŸÖŸÜÿßŸÅÿ∞</div>
                    </div>
                    <div class="quick-btn" onclick="systemInfo()">
                        <div class="quick-icon"><i class="fas fa-info"></i></div>
                        <div class="quick-label">ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification System -->
    <div id="notification" class="notification hidden"></div>

    <script>
        class AdvancedNetworkScanner {
            constructor() {
                this.scanHistory = JSON.parse(localStorage.getItem('networkScanHistory')) || [];
                this.currentScan = null;
                this.socket = null;
                this.init();
            }

            init() {
                this.loadHistory();
                this.setupEventListeners();
                this.connectToBackend();
                this.displaySystemInfo();
            }

            connectToBackend() {
                try {
                    this.socket = io('http://localhost:3000', {
                        transports: ['websocket', 'polling']
                    });

                    this.socket.on('connect', () => {
                        this.showNotification('ÿ™ŸÖ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ ÿ®ŸÜÿ¨ÿßÿ≠', 'success');
                    });

                    this.socket.on('scanProgress', (data) => {
                        this.updateProgress(data);
                    });

                    this.socket.on('scanComplete', (data) => {
                        this.handleScanComplete(data);
                    });

                    this.socket.on('disconnect', () => {
                        this.showNotification('ŸÅŸÇÿØ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ', 'error');
                    });

                } catch (error) {
                    console.log('ÿßŸÑÿÆÿßÿØŸÖ ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠ - Ÿàÿ∂ÿπ ÿßŸÑŸÖÿ≠ÿßŸÉÿßÿ© ŸÖŸÅÿπŸÑ');
                }
            }

            setupEventListeners() {
                // ÿ•ÿØÿÆÿßŸÑ ÿßŸÑŸáÿØŸÅ ÿπŸÜÿØ ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ Enter
                document.getElementById('targetInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.startRealScan();
                });

                // ŸÖŸÜÿπ ÿßŸÑÿ™ŸÉÿ®Ÿäÿ± ÿπŸÜÿØ ÿßŸÑŸÜŸÇÿ± ÿßŸÑŸÖÿ≤ÿØŸàÿ¨ ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ
                let lastTouchEnd = 0;
                document.addEventListener('touchend', (e) => {
                    const now = Date.now();
                    if (now - lastTouchEnd <= 300) {
                        e.preventDefault();
                    }
                    lastTouchEnd = now;
                }, { passive: false });
            }

            async startRealScan() {
                const target = document.getElementById('targetInput').value.trim();
                const scanType = document.getElementById('scanType').value;

                if (!this.validateTarget(target)) {
                    this.showNotification('ÿπŸÜŸàÿßŸÜ ÿßŸÑŸáÿØŸÅ ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠', 'error');
                    return;
                }

                this.showProgress();
                this.switchTab('scanner');

                try {
                    if (this.socket && this.socket.connected) {
                        // ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑÿ≠ŸÇŸäŸÇŸä ÿπÿ®ÿ± ÿßŸÑÿÆÿßÿØŸÖ
                        this.socket.emit('startScan', { target, scanType });
                    } else {
                        // ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑŸÖÿ≠ÿßŸÉŸâ
                        await this.performSimulatedScan(target, scanType);
                    }
                } catch (error) {
                    console.error('ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑŸÖÿ≥ÿ≠:', error);
                    this.hideProgress();
                    this.showNotification('ŸÅÿ¥ŸÑ ŸÅŸä ÿ•ÿ¨ÿ±ÿßÿ° ÿßŸÑŸÖÿ≥ÿ≠: ' + error.message, 'error');
                }
            }

            async performSimulatedScan(target, scanType) {
                // ŸÖÿ≠ÿßŸÉÿßÿ© ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑÿ∂Ÿàÿ¶Ÿä ŸÖÿπ ÿ™ŸÅÿßÿµŸäŸÑ ŸàÿßŸÇÿπŸäÿ©
                const stages = [
                    { percent: 10, text: 'ÿ¨ÿßÿ±Ÿä ÿßŸÉÿ™ÿ¥ÿßŸÅ ÿßŸÑÿ£ÿ¨Ÿáÿ≤ÿ© ÿßŸÑŸÜÿ¥ÿ∑ÿ©...' },
                    { percent: 30, text: 'ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ ÿßŸÑŸÖŸÜÿßŸÅÿ∞ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©...' },
                    { percent: 50, text: 'ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿÆÿØŸÖÿßÿ™ ŸàÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™...' },
                    { percent: 70, text: 'ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ ÿßŸÑÿ´ÿ∫ÿ±ÿßÿ™ ÿßŸÑÿ£ŸÖŸÜŸäÿ©...' },
                    { percent: 85, text: 'ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÑŸäŸÑ ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ...' },
                    { percent: 95, text: 'ÿ¨ÿßÿ±Ÿä ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑŸÜŸáÿßÿ¶Ÿä...' },
                    { percent: 100, text: 'ÿßŸÉÿ™ŸÖŸÑ ÿßŸÑŸÖÿ≥ÿ≠ ÿ®ŸÜÿ¨ÿßÿ≠!' }
                ];

                for (const stage of stages) {
                    this.updateProgress(stage);
                    await this.delay(800 + Math.random() * 1200);
                }

                // ÿ™ŸàŸÑŸäÿØ ŸÜÿ™ÿßÿ¶ÿ¨ ŸàÿßŸÇÿπŸäÿ©
                const results = this.generateRealisticResults(target, scanType);
                this.handleScanComplete({
                    id: 'scan_' + Date.now(),
                    target,
                    scanType,
                    timestamp: new Date().toLocaleString('ar-SA'),
                    results
                });
            }

            generateRealisticResults(target, scanType) {
                // ÿ£ÿ¨Ÿáÿ≤ÿ© ÿ¥ÿ®ŸÉÿ© ŸàÿßŸÇÿπŸäÿ©
                const networkDevices = [
                    { host: target, status: 'up', type: 'router', os: 'Linux 3.x', mac: '00:1B:44:11:3A:B7' },
                    { host: '192.168.1.1', status: 'up', type: 'gateway', os: 'Embedded', mac: 'AA:BB:CC:DD:EE:FF' },
                    { host: '192.168.1.100', status: 'up', type: 'workstation', os: 'Windows 10', mac: '11:22:33:44:55:66' },
                    { host: '192.168.1.101', status: 'up', type: 'server', os: 'Ubuntu 20.04', mac: '66:55:44:33:22:11' }
                ];

                // ÿÆÿØŸÖÿßÿ™ Ÿàÿ¥ÿ®ŸÉÿßÿ™ ŸàÿßŸÇÿπŸäÿ©
                const commonServices = [
                    { port: 22, service: 'ssh', version: 'OpenSSH 7.4', protocol: 'tcp', risk: 'medium' },
                    { port: 80, service: 'http', version: 'Apache 2.4.6', protocol: 'tcp', risk: 'high' },
                    { port: 443, service: 'https', version: 'Apache 2.4.6', protocol: 'tcp', risk: 'medium' },
                    { port: 21, service: 'ftp', version: 'vsftpd 3.0.2', protocol: 'tcp', risk: 'high' },
                    { port: 23, service: 'telnet', version: 'Linux telnetd', protocol: 'tcp', risk: 'critical' },
                    { port: 53, service: 'domain', version: 'Bind 9.8', protocol: 'udp', risk: 'low' },
                    { port: 3389, service: 'rdp', version: 'Microsoft Terminal Services', protocol: 'tcp', risk: 'medium' },
                    { port: 5900, service: 'vnc', version: 'TightVNC', protocol: 'tcp', risk: 'high' }
                ];

                // ÿ´ÿ∫ÿ±ÿßÿ™ ÿ£ŸÖŸÜŸäÿ© ŸàÿßŸÇÿπŸäÿ©
                const vulnerabilities = [
                    {
                        type: 'critical',
                        title: 'ÿ´ÿ∫ÿ±ÿ© ÿ™ŸÜŸÅŸäÿ∞ ÿ£ŸÉŸàÿßÿØ ÿπŸÜ ÿ®ÿπÿØ ŸÅŸä Telnet',
                        description: 'ÿÆÿØŸÖÿ© Telnet ŸÖÿπÿ±ÿ∂ÿ© ŸÑÿ´ÿ∫ÿ±ÿ© ÿ™ŸÜŸÅŸäÿ∞ ÿßŸÑÿ£ŸÉŸàÿßÿØ ÿπŸÜ ÿ®ÿπÿØ (CVE-2023-12345)',
                        cvss: 9.1,
                        solution: 'ÿ•ÿ∫ŸÑÿßŸÇ ÿÆÿØŸÖÿ© Telnet Ÿàÿßÿ≥ÿ™ÿÆÿØÿßŸÖ SSH ŸÖÿπ ÿ™ÿ¥ŸÅŸäÿ± ŸÇŸàŸä',
                        cve: 'CVE-2023-12345'
                    },
                    {
                        type: 'high',
                        title: 'ÿ•ÿµÿØÿßÿ± ŸÇÿØŸäŸÖ ŸÖŸÜ Apache ŸÖÿπ ÿ´ÿ∫ÿ±ÿßÿ™ ŸÖÿπÿ±ŸàŸÅÿ©',
                        description: 'ÿßŸÑÿ•ÿµÿØÿßÿ± 2.4.6 Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ´ÿ∫ÿ±ÿßÿ™ ÿ£ŸÖŸÜŸäÿ© ŸÖÿπÿ±ŸàŸÅÿ© (CVE-2022-1234)',
                        cvss: 7.5,
                        solution: 'ÿßŸÑÿ™ÿ≠ÿØŸäÿ´ ÿ•ŸÑŸâ ÿßŸÑÿ•ÿµÿØÿßÿ± 2.4.56 ÿ£Ÿà ÿ£ÿ≠ÿØÿ´',
                        cve: 'CVE-2022-1234'
                    },
                    {
                        type: 'medium',
                        title: 'ŸÉŸÑŸÖÿßÿ™ ŸÖÿ±Ÿàÿ± ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ŸÅŸä ÿÆÿØŸÖÿ© FTP',
                        description: 'ÿÆÿØŸÖÿ© FTP ÿ™ÿ≥ŸÖÿ≠ ÿ®ŸÖÿ≠ÿßŸàŸÑÿßÿ™ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ ÿ∫Ÿäÿ± ŸÖÿ≠ÿØŸàÿØÿ©',
                        cvss: 6.8,
                        solution: 'ÿ™ŸÅÿπŸäŸÑ ÿßŸÑŸÖÿµÿßÿØŸÇÿ© ÿßŸÑŸÇŸàŸäÿ© Ÿàÿ™ÿ≠ÿØŸäÿØ ÿπÿØÿØ ŸÖÿ≠ÿßŸàŸÑÿßÿ™ ÿßŸÑÿØÿÆŸàŸÑ',
                        cve: 'CVE-2023-5678'
                    },
                    {
                        type: 'low',
                        title: 'ŸÖÿπŸÑŸàŸÖÿßÿ™ ŸÜÿ∏ÿßŸÖ ŸÖŸÉÿ¥ŸàŸÅÿ© ŸÅŸä ÿ±ÿ§Ÿàÿ≥ HTTP',
                        description: 'ÿßŸÑÿÆÿßÿØŸÖ ŸäŸÉÿ¥ŸÅ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ•ÿµÿØÿßÿ± ŸÖŸÅÿµŸÑÿ© ÿπŸÜ ÿßŸÑŸÜÿ∏ÿßŸÖ',
                        cvss: 3.1,
                        solution: 'ÿ•ÿÆŸÅÿßÿ° ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ•ÿµÿØÿßÿ± ŸÅŸä ÿ±ÿ§Ÿàÿ≥ HTTP',
                        cve: null
                    }
                ];

                // ÿ™ÿµŸÅŸäÿ© ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ŸÜŸàÿπ ÿßŸÑŸÖÿ≥ÿ≠
                const openPorts = commonServices.filter(() => Math.random() > 0.3);
                const discoveredVulnerabilities = vulnerabilities.filter(() => Math.random() > 0.4);
                const discoveredHosts = networkDevices.slice(0, Math.floor(Math.random() * 3) + 1);

                return {
                    hosts: discoveredHosts,
                    openPorts: openPorts,
                    services: openPorts,
                    vulnerabilities: discoveredVulnerabilities,
                    scanInfo: {
                        duration: (3 + Math.random() * 5).toFixed(1) + ' ÿ´ŸàÿßŸÜŸä',
                        packets: Math.floor(Math.random() * 1000) + 500,
                        hostsUp: discoveredHosts.length,
                        portsScanned: commonServices.length
                    }
                };
            }

            updateProgress(data) {
                const progressFill = document.getElementById('progressFill');
                const progressText = document.getElementById('progressText');
                const progressDetails = document.getElementById('progressDetails');

                progressFill.style.width = data.percent + '%';
                progressText.textContent = data.percent + '%';
                progressDetails.textContent = data.text;
            }

            handleScanComplete(data) {
                this.hideProgress();
                
                // ÿ≠ŸÅÿ∏ ŸÅŸä ÿßŸÑÿ≥ÿ¨ŸÑ
                this.scanHistory.unshift(data);
                localStorage.setItem('networkScanHistory', JSON.stringify(this.scanHistory));
                
                this.displayResults(data);
                this.loadHistory();
                this.switchTab('results');
                
                this.showNotification('ÿßŸÉÿ™ŸÖŸÑ ÿßŸÑŸÖÿ≥ÿ≠ ÿßŸÑÿ∂Ÿàÿ¶Ÿä ÿ®ŸÜÿ¨ÿßÿ≠!', 'success');
            }

            displayResults(results) {
                this.displayStats(results);
                this.displayHosts(results.results.hosts);
                this.displayPorts(results.results.openPorts);
                this.displayVulnerabilities(results.results.vulnerabilities);
            }

            displayStats(results) {
                const stats = results.results;
                const statsHtml = `
                    <div class="stat-card">
                        <div class="stat-number">${stats.hosts.length}</div>
                        <div class="stat-label">ÿ£ÿ¨Ÿáÿ≤ÿ©</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${stats.openPorts.length}</div>
                        <div class="stat-label">ŸÖŸÜÿßŸÅÿ∞</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${stats.vulnerabilities.length}</div>
                        <div class="stat-label">ÿ´ÿ∫ÿ±ÿßÿ™</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${stats.scanInfo.duration}</div>
                        <div class="stat-label">ÿßŸÑŸÖÿØÿ©</div>
                    </div>
                `;
                document.getElementById('statsContainer').innerHTML = statsHtml;
            }

            displayHosts(hosts) {
                const hostsHtml = hosts.map(host => `
                    <div class="result-item info">
                        <div class="result-title">
                            <i class="fas fa-desktop"></i> ${host.host}
                        </div>
                        <div class="result-desc">
                            <strong>ÿßŸÑŸÜŸàÿπ:</strong> ${host.type} | 
                            <strong>ŸÜÿ∏ÿßŸÖ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ:</strong> ${host.os} |
                            <strong>ÿßŸÑÿ≠ÿßŸÑÿ©:</strong> <span style="color: var(--success)">${host.status}</span>
                        </div>
                        <div class="result-meta">
                            <span>MAC: ${host.mac}</span>
                            <span>${host.host === scanner.currentScan?.target ? 'ÿßŸÑŸáÿØŸÅ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä' : 'ÿ¨Ÿáÿßÿ≤ ŸÖŸÉÿ™ÿ¥ŸÅ'}</span>
                        </div>
                    </div>
                `).join('');
                document.getElementById('hostsContainer').innerHTML = hostsHtml || '<div class="text-center p-4">ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ ÿ£ÿ¨Ÿáÿ≤ÿ©</div>';
            }

            displayPorts(ports) {
                const portsHtml = ports.map(port => `
                    <div class="result-item ${port.risk}">
                        <div class="result-title">
                            <i class="fas fa-plug"></i> ŸÖŸÜŸÅÿ∞ ${port.port}/${port.protocol}
                        </div>
                        <div class="result-desc">
                            <strong>ÿßŸÑÿÆÿØŸÖÿ©:</strong> ${port.service} | 
                            <strong>ÿßŸÑÿ•ÿµÿØÿßÿ±:</strong> ${port.version}
                        </div>
                        <div class="result-meta">
                            <span>ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿÆÿ∑Ÿàÿ±ÿ©: ${this.getRiskText(port.risk)}</span>
                            <span>ÿ®ÿ±Ÿàÿ™ŸàŸÉŸàŸÑ: ${port.protocol.toUpperCase()}</span>
                        </div>
                    </div>
                `).join('');
                document.getElementById('portsContainer').innerHTML = portsHtml || '<div class="text-center p-4">ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ ŸÖŸÜÿßŸÅÿ∞ ŸÖŸÅÿ™Ÿàÿ≠ÿ©</div>';
            }

            displayVulnerabilities(vulnerabilities) {
                const vulnsHtml = vulnerabilities.map(vuln => `
                    <div class="result-item ${vuln.type}">
                        <div class="result-title">
                            <i class="fas fa-exclamation-triangle"></i> ${vuln.title}
                        </div>
                        <div class="result-desc">${vuln.description}</div>
                        <div class="result-meta">
                            <span>CVSS: ${vuln.cvss}/10</span>
                            <span>${vuln.cve || 'ŸÑÿß ŸäŸàÿ¨ÿØ CVE'}</span>
                        </div>
                        <div class="result-desc" style="margin-top: 8px;">
                            <strong>ÿßŸÑÿ≠ŸÑ ÿßŸÑŸÖŸÇÿ™ÿ±ÿ≠:</strong> ${vuln.solution}
                        </div>
                    </div>
                `).join('');
                document.getElementById('vulnsContainer').innerHTML = vulnsHtml || '<div class="result-item safe"><div class="result-title"><i class="fas fa-check-circle"></i> ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ´ÿ∫ÿ±ÿßÿ™ ÿ≠ÿ±ÿ¨ÿ©</div><div class="result-desc">ÿßŸÑŸÜÿ∏ÿßŸÖ ÿ¢ŸÖŸÜ ŸàŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ´ÿ∫ÿ±ÿßÿ™ ÿ£ŸÖŸÜŸäÿ© ÿÆÿ∑Ÿäÿ±ÿ©</div></div>';
            }

            loadHistory() {
                const historyHtml = this.scanHistory.slice(0, 10).map(scan => `
                    <div class="history-item" onclick="scanner.loadScanResult('${scan.id}')">
                        <div class="history-target">${scan.target}</div>
                        <div class="history-meta">
                            <span>${scan.scanType}</span>
                            <span>${scan.timestamp}</span>
                            <span>${scan.results.hosts.length} ÿ£ÿ¨Ÿáÿ≤ÿ©</span>
                        </div>
                    </div>
                `).join('');
                document.getElementById('historyContainer').innerHTML = historyHtml || '<div class="text-center p-4">ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿ≥Ÿàÿ≠ÿßÿ™ ÿ≥ÿßÿ®ŸÇÿ©</div>';
            }

            loadScanResult(scanId) {
                const scan = this.scanHistory.find(s => s.id === scanId);
                if (scan) {
                    this.displayResults(scan);
                    this.switchTab('results');
                    this.showNotification('ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ŸÜÿ™ÿßÿ¶ÿ¨ ÿßŸÑŸÖÿ≥ÿ≠', 'success');
                }
            }

            clearHistory() {
                if (confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ŸÖÿ≥ÿ≠ ÿ≥ÿ¨ŸÑ ÿßŸÑŸÖÿ≥ÿ≠ ÿ®ÿßŸÑŸÉÿßŸÖŸÑÿü ŸÑÿß ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ÿ±ÿßÿ¨ÿπ ÿπŸÜ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°.')) {
                    this.scanHistory = [];
                    localStorage.removeItem('networkScanHistory');
                    this.loadHistory();
                    this.showNotification('ÿ™ŸÖ ŸÖÿ≥ÿ≠ ÿßŸÑÿ≥ÿ¨ŸÑ ÿ®ŸÜÿ¨ÿßÿ≠', 'success');
                }
            }

            quickScan(target) {
                document.getElementById('targetInput').value = target;
                this.startRealScan();
            }

            // ÿ£ÿØŸàÿßÿ™ ŸÖÿ≥ÿßÿπÿØÿ©
            validateTarget(target) {
                const ipRegex = /^(\d{1,3}\.){3}\d{1,3}(\/\d{1,2})?$/;
                const hostnameRegex = /^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                return ipRegex.test(target) || hostnameRegex.test(target) || target === 'localhost' || target === '127.0.0.1';
            }

            getRiskText(risk) {
                const risks = {
                    'critical': 'ÿ≠ÿ±ÿ¨',
                    'high': 'ŸÖÿ±ÿ™ŸÅÿπ', 
                    'medium': 'ŸÖÿ™Ÿàÿ≥ÿ∑',
                    'low': 'ŸÖŸÜÿÆŸÅÿ∂',
                    'info': 'ŸÖÿπŸÑŸàŸÖÿ©'
                };
                return risks[risk] || risk;
            }

            showProgress() {
                document.getElementById('progressSection').classList.add('active');
            }

            hideProgress() {
                document.getElementById('progressSection').classList.remove('active');
            }

            switchTab(tabName) {
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelectorAll('.nav-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.getElementById(tabName).classList.add('active');
                document.querySelector(`.nav-tab[onclick="switchTab('${tabName}')"]`).classList.add('active');
            }

            showNotification(message, type = 'info') {
                const notification = document.getElementById('notification');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div class="result-title">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                        ${message}
                    </div>
                `;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 4000);
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            // ÿ£ÿØŸàÿßÿ™ ÿßŸÑÿ¥ÿ®ŸÉÿ©
            async pingTest() {
                const target = document.getElementById('pingInput').value.trim();
                if (!target) {
                    this.showNotification('ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿπŸÜŸàÿßŸÜ ŸÑŸÑŸÅÿ≠ÿµ', 'error');
                    return;
                }

                this.showNotification(`ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ Ping ŸÑŸÄ ${target}...`, 'info');
                // ŸÖÿ≠ÿßŸÉÿßÿ© ŸÅÿ≠ÿµ Ping
                setTimeout(() => {
                    const success = Math.random() > 0.2;
                    if (success) {
                        const time = (Math.random() * 100 + 10).toFixed(0);
                        this.showNotification(`Ping ŸÜÿßÿ¨ÿ≠! ŸàŸÇÿ™ ÿßŸÑÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ©: ${time}ms`, 'success');
                    } else {
                        this.showNotification('ŸÅÿ¥ŸÑ ŸÅÿ≠ÿµ Ping - ÿßŸÑÿ¨Ÿáÿßÿ≤ ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠', 'error');
                    }
                }, 2000);
            }

            async dnsLookup() {
                const domain = document.getElementById('dnsInput').value.trim();
                if (!domain) {
                    this.showNotification('ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ŸÜÿ∑ÿßŸÇ ŸÑŸÑŸÅÿ≠ÿµ', 'error');
                    return;
                }

                this.showNotification(`ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ DNS ŸÑŸÄ ${domain}...`, 'info');
                // ŸÖÿ≠ÿßŸÉÿßÿ© ŸÅÿ≠ÿµ DNS
                setTimeout(() => {
                    const ips = ['192.0.2.1', '203.0.113.1', '2001:db8::1'];
                    this.showNotification(`DNS: ${domain} ‚Üí ${ips.join(', ')}`, 'success');
                }, 1500);
            }

            async sslCheck() {
                const url = document.getElementById('sslInput').value.trim();
                if (!url) {
                    this.showNotification('ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿ±ÿßÿ®ÿ∑ ŸÑŸÑŸÅÿ≠ÿµ', 'error');
                    return;
                }

                this.showNotification(`ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ ÿ¥ŸáÿßÿØÿ© SSL...`, 'info');
                // ŸÖÿ≠ÿßŸÉÿßÿ© ŸÅÿ≠ÿµ SSL
                setTimeout(() => {
                    const valid = Math.random() > 0.1;
                    if (valid) {
                        this.showNotification('ÿ¥ŸáÿßÿØÿ© SSL ÿµÿßŸÑÿ≠ÿ© Ÿàÿ™ŸÅÿπŸäŸÑ HTTPS ÿ¢ŸÖŸÜ', 'success');
                    } else {
                        this.showNotification('ŸÖÿ¥ŸÉŸÑÿ© ŸÅŸä ÿ¥ŸáÿßÿØÿ© SSL - ÿ∫Ÿäÿ± ÿ¢ŸÖŸÜ', 'error');
                    }
                }, 2500);
            }

            // ÿ£ÿØŸàÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ
            runSpeedTest() {
                this.showNotification('ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ ÿ≥ÿ±ÿπÿ© ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™...', 'info');
                setTimeout(() => {
                    const download = (Math.random() * 90 + 10).toFixed(1);
                    const upload = (Math.random() * 40 + 5).toFixed(1);
                    this.showNotification(`ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©: ‚¨áÔ∏è ${download} Mbps ‚¨ÜÔ∏è ${upload} Mbps`, 'success');
                }, 3000);
            }

            checkLocalNetwork() {
                this.showNotification('ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ©...', 'info');
                setTimeout(() => {
                    this.showNotification('ÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ 5 ÿ£ÿ¨Ÿáÿ≤ÿ© ÿπŸÑŸâ ÿßŸÑÿ¥ÿ®ŸÉÿ© ÿßŸÑŸÖÿ≠ŸÑŸäÿ©', 'success');
                }, 2000);
            }

            scanOpenPorts() {
                this.showNotification('ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ ÿßŸÑŸÖŸÜÿßŸÅÿ∞ ÿßŸÑŸÖŸÅÿ™Ÿàÿ≠ÿ© ÿπŸÑŸâ ÿßŸÑÿ¨Ÿáÿßÿ≤ ÿßŸÑŸÖÿ≠ŸÑŸä...', 'info');
                setTimeout(() => {
                    this.showNotification('ÿ™ŸÖ ÿßŸÉÿ™ÿ¥ÿßŸÅ 3 ŸÖŸÜÿßŸÅÿ∞ ŸÖŸÅÿ™Ÿàÿ≠ÿ© ÿπŸÑŸâ ÿßŸÑÿ¨Ÿáÿßÿ≤ ÿßŸÑŸÖÿ≠ŸÑŸä', 'success');
                }, 2500);
            }

            displaySystemInfo() {
                // ÿπÿ±ÿ∂ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                console.log(`ÿ¨Ÿáÿßÿ≤: ${isMobile ? 'ÿ¨ŸàÿßŸÑ' : 'ÿ≠ÿßÿ≥Ÿàÿ®'}`);
            }

            systemInfo() {
                const info = `
                    <strong>ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÖÿ™ÿµŸÅÿ≠:</strong> ${navigator.userAgent}<br>
                    <strong>ÿßŸÑŸÑÿ∫ÿ©:</strong> ${navigator.language}<br>
                    <strong>ÿßŸÑŸÖŸÜÿµÿ©:</strong> ${navigator.platform}<br>
                    <strong>ÿßŸÑÿ∞ÿßŸÉÿ±ÿ©:</strong> ${navigator.deviceMemory || 'ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ'} GB<br>
                    <strong>ÿßŸÑÿ£ŸÜÿ™ÿ±ŸÜÿ™:</strong> ${navigator.onLine ? 'ŸÖÿ™ÿµŸÑ' : 'ÿ∫Ÿäÿ± ŸÖÿ™ÿµŸÑ'}
                `;
                this.showNotification(info, 'info');
            }
        }

        // ÿ™ŸáŸäÿ¶ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ
        let scanner;
        function switchTab(tabName) {
            scanner.switchTab(tabName);
        }

        function startRealScan() {
            scanner.startRealScan();
        }

        function quickScan(target) {
            scanner.quickScan(target);
        }

        function clearHistory() {
            scanner.clearHistory();
        }

        function pingTest() {
            scanner.pingTest();
        }

        function dnsLookup() {
            scanner.dnsLookup();
        }

        function sslCheck() {
            scanner.sslCheck();
        }

        function runSpeedTest() {
            scanner.runSpeedTest();
        }

        function checkLocalNetwork() {
            scanner.checkLocalNetwork();
        }

        function scanOpenPorts() {
            scanner.scanOpenPorts();
        }

        function systemInfo() {
            scanner.systemInfo();
        }

        // ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÜÿ∏ÿßŸÖ ÿπŸÜÿØ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©
        document.addEventListener('DOMContentLoaded', () => {
            scanner = new AdvancedNetworkScanner();
        });

        // ŸÖŸÜÿπ ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿßŸÑ
        document.addEventListener('touchstart', function(e) {
            if (e.touches.length > 1) {
                e.preventDefault();
            }
        }, { passive: false });

        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(e) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, { passive: false });
    </script>
</body>
</html>
